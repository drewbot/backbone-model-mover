"use strict";var Mover={Models:{List:{}},Collections:{FirstCollection:{},SecondCollection:{},ThirdCollection:{}},Views:{ViewOne:{},ViewTwo:{},ViewThree:{},AppView:{}},Routers:{},models:{},collections:{collectionOne:{},collectionTwo:{},collectionThree:{}},views:{firstView:{},secondView:{},thirdView:{}},routers:{}};Mover.Models.List=Backbone.Model.extend({idAttribute:"_id"}),Mover.Collections.FirstCollection=Backbone.Collection.extend({model:Mover.Models.List,url:"http://tiny-pizza-server.herokuapp.com/collections/jdMovingCollectionOne"}),Mover.Collections.SecondCollection=Backbone.Collection.extend({model:Mover.Models.List,url:"http://tiny-pizza-server.herokuapp.com/collections/jdMovingCollectionTwo"}),Mover.Collections.ThirdCollection=Backbone.Collection.extend({model:Mover.Models.List,url:"http://tiny-pizza-server.herokuapp.com/collections/jdMovingCollectionThree"}),Mover.Views.ViewOne=Backbone.View.extend({template:_.template($(".list-one-template").html()),className:"collection-one-item",events:{"click .delete-button":"destroy","click .copy-to-two":"copyTwo","click .copy-to-three":"copyThree","click .move-to-two":"moveToTwo","click .move-to-three":"moveToThree"},initialize:function(){this.listenTo(this.model,"destroy",this.remove),$(".collection-one").append(this.el),this.render(),this.model.isNew()&&(this.model.set({time:Date.now()}),this.model.save())},render:function(){var a=this.template(this.model.attributes);this.$el.html(a)},destroy:function(){this.model.destroy()},copyTwo:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionTwo.add(a)},copyThree:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionThree.add(a)},moveToTwo:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionTwo.add(a),this.destroy()},moveToThree:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionThree.add(a),this.destroy()}}),Mover.Views.ViewTwo=Backbone.View.extend({template:_.template($(".list-two-template").html()),className:"collection-two-item",events:{"click .delete-button":"destroy","click .copy-to-one":"copyOne","click .copy-to-three":"copyThree","click .move-to-one":"moveToOne","click .move-to-three":"moveToThree"},initialize:function(){this.listenTo(this.model,"destroy",this.remove),$(".collection-two").append(this.el),this.render(),this.model.isNew()&&(this.model.set({time:Date.now()}),this.model.save())},render:function(){var a=this.template(this.model.attributes);this.$el.html(a)},destroy:function(){this.model.destroy()},copyOne:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionOne.add(a)},copyThree:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionThree.add(a)},moveToOne:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionOne.add(a),this.destroy()},moveToThree:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionThree.add(a),this.destroy()}}),Mover.Views.ViewThree=Backbone.View.extend({template:_.template($(".list-three-template").html()),className:"collection-three-item",events:{"click .delete-button":"destroy","click .copy-to-one":"copyOne","click .copy-to-two":"copyTwo","click .move-to-one":"moveToOne","click .move-to-two":"moveToTwo"},initialize:function(){this.listenTo(this.model,"destroy",this.remove),$(".collection-three").append(this.el),this.render(),this.model.isNew()&&(this.model.set({time:Date.now()}),this.model.save())},render:function(){var a=this.template(this.model.attributes);this.$el.html(a)},destroy:function(){this.model.destroy()},copyOne:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionOne.add(a)},copyTwo:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionTwo.add(a)},moveToOne:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionOne.add(a),this.destroy()},moveToTwo:function(){var a=this.model.clone();a.unset("_id"),Mover.collections.collectionTwo.add(a),this.destroy()}}),Mover.Views.AppView=Backbone.View.extend({initialize:function(){Mover.collections.collectionOne=new Mover.Collections.FirstCollection,Mover.collections.collectionTwo=new Mover.Collections.SecondCollection,Mover.collections.collectionThree=new Mover.Collections.ThirdCollection,Mover.collections.collectionOne.fetch(),Mover.collections.collectionTwo.fetch(),Mover.collections.collectionThree.fetch(),this.listenTo(Mover.collections.collectionOne,"add",function(a){Mover.views.firstView=new Mover.Views.ViewOne({model:a})}),this.listenTo(Mover.collections.collectionTwo,"add",function(a){Mover.views.secondView=new Mover.Views.ViewTwo({model:a})}),this.listenTo(Mover.collections.collectionThree,"add",function(a){Mover.views.thirdView=new Mover.Views.ViewThree({model:a})})}}),new Mover.Views.AppView,$(".new-item").click(function(){$(".save-item").show(),$(".new-item-text").show(),$(".create-new-item ul").show(),$(".new-item").hide()}),$(".save-item").click(function(){var a=[];if(""!==$(".new-item-text").val()&&$("input:checkbox:checked").length>0){var b=$(".new-item-text").val();$("input:checkbox:checked").each(function(b){return a[b]=$(this).val()}),_.each(a,function(a){if("saveOne"===a){var c=new Mover.Models.List({item:b});Mover.collections.collectionOne.add(c)}else if("saveTwo"===a){var c=new Mover.Models.List({item:b});Mover.collections.collectionTwo.add(c)}else if("saveThree"===a){var c=new Mover.Models.List({item:b});Mover.collections.collectionThree.add(c)}}),$("input:checkbox:checked").attr("checked",!1),$(".new-item-text").val(""),$(".save-item").hide(),$(".new-item-text").hide(),$(".create-new-item ul").hide(),$(".new-item").show()}else alert("You must add a new list item and select a list to add the item to before saving")});